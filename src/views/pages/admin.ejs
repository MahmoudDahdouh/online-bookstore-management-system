<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head'); %>
  <body>
    <!--Nvabar-->
    <%- include('../partials/navbar')%> <% const setUrl = ( key, value) => {
    const tempQuery = { ...query }; tempQuery[key] = value;
    return`${url}?${Object.keys(tempQuery) .map((key) =>
    `${key}=${tempQuery[key]}`) .join('&')}` } ;%>

    <main class="container">
      <h1 class="mt-5">Admin</h1>
      <div class="d-flex justify-content-between align-items-center">
        <h2 class="mt-3">All book</h2>
        <button class="btn btn-primary">
          <i class="fas fa-plus me-2"></i>
          Add new
        </button>
      </div>

      <!-- list of all books -->
      <div class="table-responsive-md">
        <table class="table table-striped table-hover mt-2">
          <thead class="table-primary">
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Name</th>
              <th scope="col">Description</th>
              <th scope="col">Price</th>
              <th scope="col">Quantity</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <% books.forEach(book => { %>
          <tr>
            <th scope="row"><%= book.id %></th>
            <td><%= book.title %></td>
            <td><%= book.description %></td>
            <td>$<%= book.price %></td>
            <td><%= book.quantity %></td>
            <td>
              <button class="btn btn-danger btn-sm">
                <i class="fas fa-trash me-2"></i>
                delete
              </button>
            </td>
          </tr>

          <% }) %>
        </table>
      </div>

      <nav class="mt-4">
        <ul class="pagination justify-content-center">
          <% for( let i = 1; i <= pagination.pages; i++ ) { %>
          <li class="page-item <%= i == pagination.current_page?'active':'' %>">
            <a class="page-link" href="<%= setUrl('page',i) %>"><%= i %></a>
          </li>

          <% } %>
        </ul>
      </nav>
    </main>
    <!-- footer -->
    <%- include('../partials/footer'); %>
    <!-- Bootstrap JS files -->
    <script src="js/bootstrap.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
